apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: webhook
webhooks:
  - name: injector.nuwa.nip.io
    admissionReviewVersions: ["v1", "v1beta1"]
    sideEffects: NoneOnDryRun
    rules:
      - operations: [ "CREATE" ]
        apiGroups: [""]
        apiVersions: ["v1"]
        resources: ["pods"]
        scope: "Namespaced"
    failurePolicy: Ignore  #  Fail/Ignore
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUV0VENDQTUyZ0F3SUJBZ0lVYklWSU5EN1MyVVlkU0tnYkxOcytZRFZhSDBrd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2NqRUxNQWtHQTFVRUJoTUNRMDR4RWpBUUJnTlZCQWdUQ1VkMVlXNW5XbWh2ZFRFU01CQUdBMVVFQnhNSgpSM1ZoYm1kYWFHOTFNUXd3Q2dZRFZRUUtFd05yT0hNeER6QU5CZ05WQkFzVEJsTjVjM1JsYlRFY01Cb0dBMVVFCkF4TVRhM1ZpWlhKdVpYUmxjeTFUYjNWc2JXRjBaVEFlRncweU1EQTBNVEl4TkRVNU1EQmFGdzB5TVRBME1USXgKTkRVNU1EQmFNR014Q3pBSkJnTlZCQVlUQWtOT01SSXdFQVlEVlFRSUV3bEhkV0Z1WjFwb2IzVXhFakFRQmdOVgpCQWNUQ1VkMVlXNW5XbWh2ZFRFTU1Bb0dBMVVFQ2hNRGF6aHpNUTh3RFFZRFZRUUxFd1pUZVhOMFpXMHhEVEFMCkJnTlZCQU1UQkc1MWQyRXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEcVBIcVEKMGtRVDhXMStaZHVhWXlXVjM1aHVTVkxMYXNGeXpKRWpFTG5kbVR2WnZNa2x4V0J1UmVkNXBnSHg5UkVycENOcQpINHpKYzZrODdxLzJsdGE5ZmxsTDdjVzF5UTZReHZmVmlvWlNrNkM1Y3FML3BDeUxiR1ZpTzhrYVVabWVvNlphClhMM0srSEgvVkdQd3FnenpjaENDNjc5WGcxV3NJY3BteEoxYVpkb1hlTlRBL1hldWJyN3VNRjY4dUltVEVYWS8KVitOSVI4c0VodTgzdkpESnF6TGtTMHRoYW1WOTZLWURxdGJZbG1tQjM1VnFUQ1RXMlRhUW1HN2Y2M3BtekpUUwo5SkFoVVNJUHJ3VW5xVkZqRUh6RUcyUXdrKzBrSTBvQVJwa0ZBWnlRY091SUVBQVZFQnZvSXRXTTBRVExRdzRVCmFWVkRuSlNuVit1d2xMTzFBZ01CQUFHamdnRlFNSUlCVERBT0JnTlZIUThCQWY4RUJBTUNCYUF3SFFZRFZSMGwKQkJZd0ZBWUlLd1lCQlFVSEF3RUdDQ3NHQVFVRkJ3TUNNQXdHQTFVZEV3RUIvd1FDTUFBd0hRWURWUjBPQkJZRQpGQmJCUDl2dTRUMDdmSW1kODlGRUpkT2d2anBiTUI4R0ExVWRJd1FZTUJhQUZFMStmc3dnalRJV3RPNnpHZjR3ClV4dzJrMEJ5TUlITUJnTlZIUkVFZ2NRd2djR0NGRzUxZDJFdGQyVmlhRzl2YXkxelpYSjJhV05sZ2lCdWRYZGgKTFhkbFltaHZiMnN0YzJWeWRtbGpaUzV1ZFhkaExYTjVjM1JsYllJa2JuVjNZUzEzWldKb2IyOXJMWE5sY25acApZMlV1Ym5WM1lTMXplWE4wWlcwdWMzWmpnamR1ZFhkaExXTnZiblJ5YjJ4c1pYSXRiV0Z1WVdkbGNpMXRaWFJ5CmFXTnpMWE5sY25acFkyVXViblYzWVMxemVYTjBaVzB1YzNaamhpaHVkWGRoTFhkbFltaHZiMnN0YzJWeWRtbGoKWlM1dWRYZGhMWE41YzNSbGJTNXpkbU02TkRRek1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQjBuRUFOaVRZVwpkRDNmY25pbmV3SEZoTE1qTktteUljKzZiSzEvcFlnQlpYSVZmc0p4NWNvYVRidGUrRG9iSkhwbWpkZGZBS2JOCjlqemtPU0ZFcS9uU0RaYncvRnpqNEdTWXIwQ2dwM0l4Z0cxUDg0YXVtQitxZlNQZVFLWFpGSVJhQ0FSOWU1TysKWHo0Zi83YTArcitnYzl5K1lYR28vMTlYVjBrbXpJUDBQM0dDYk1od2hDZ1dySVF6VnZmVGhxVk9ZbjZUa2hLMgpCcERYbUdzZGFRbGhzRlhxQ2JyYUZ3TjZYcUxmRGlMcUgwNFdObVQ5ME5VYTVYUUprZm4xYXhxTmtQTHRHQmZlCkhNRUdobXVQSUhzNkxtYmVhT0JyalpjdUkwWDhkZXVQbDVQMTQzSm1WYWg1NXRtOTJpSHpVMWRhRlErbTFLSzMKUC91NFVhNU5EOHB6Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      service:
        name: nuwa-webhook-service
        namespace: nuwa-system
        path: /mutating-pods
