apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: webhook
webhooks:
  - name: injector.nuwa.nip.io
    admissionReviewVersions: ["v1", "v1beta1"]
    sideEffects: NoneOnDryRun
    rules:
      - operations: [ "CREATE" ]
        apiGroups: [""]
        apiVersions: ["v1"]
        resources: ["pods"]
        scope: "Namespaced"
    failurePolicy: Ignore  #  Fail/Ignore
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUV0akNDQTU2Z0F3SUJBZ0lVSkZNTy9tQUpqMDd3M2VGRm0rUkpmamM0VUxRd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2NqRUxNQWtHQTFVRUJoTUNRMDR4RWpBUUJnTlZCQWdUQ1VkMVlXNW5XbWh2ZFRFU01CQUdBMVVFQnhNSgpSM1ZoYm1kYWFHOTFNUXd3Q2dZRFZRUUtFd05yT0hNeER6QU5CZ05WQkFzVEJsTjVjM1JsYlRFY01Cb0dBMVVFCkF4TVRhM1ZpWlhKdVpYUmxjeTFUYjNWc2JXRjBaVEFlRncweU1EQTBNVFl4TkRJd01EQmFGdzAwTURBME1URXgKTkRJd01EQmFNR014Q3pBSkJnTlZCQVlUQWtOT01SSXdFQVlEVlFRSUV3bEhkV0Z1WjFwb2IzVXhFakFRQmdOVgpCQWNUQ1VkMVlXNW5XbWh2ZFRFTU1Bb0dBMVVFQ2hNRGF6aHpNUTh3RFFZRFZRUUxFd1pUZVhOMFpXMHhEVEFMCkJnTlZCQU1UQkc1MWQyRXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEZzBteTYKRFdHbXlieis3Y3VuZHkybm5pZFVmNlUwd05pR1IwS2R1VjJsWUErM1hKazNBcFFFT25yeGw2Y28xd0twcndrcQpSWUptTjVBeUFvaEk4WVB2TEJDS1lFa3Z2eUJNZ3RsdkdIL1pZWkIyV1U4eUVYVnVQKzdVL3pzbHBySmZ2Q3Z5Cm5GVjBkTVVmSlRHay9oK2xGY2JER2VQM2YzVEFmbU9nRGNzK2FDaUFibHpEZ1lVZ0VTcVZnWjJ6WXJnS3M4ZTYKRmU3NzhZaW9UT2NNRHR5WGlpRlNKM0VwSDN2TmFBcXdpa29Ua2x6QWsrMHRteDkwbGFIeGN1UkRXQVpham1pRApHM1d3ZHgrb2lkSkhDSXJsdjhtZkZOYWVURnBUS2luRVBOWFhLMDZLSytna2M3VHFMMElnNGdJMERXUTB3RDZ1Cm1wNGVwaDZFM2xOMUh3T0ZBZ01CQUFHamdnRlJNSUlCVFRBT0JnTlZIUThCQWY4RUJBTUNCYUF3SFFZRFZSMGwKQkJZd0ZBWUlLd1lCQlFVSEF3RUdDQ3NHQVFVRkJ3TUNNQXdHQTFVZEV3RUIvd1FDTUFBd0hRWURWUjBPQkJZRQpGR0xWZkFKRFl1WlRjSjVBYlV1NGh4ZTNPSTI1TUI4R0ExVWRJd1FZTUJhQUZGNXlUSjFsTkh0OFd3VUU2cFdECmVTT1p0ckxSTUlITkJnTlZIUkVFZ2NVd2djS0NGRzUxZDJFdGQyVmlhRzl2YXkxelpYSjJhV05sZ2lCdWRYZGgKTFhkbFltaHZiMnN0YzJWeWRtbGpaUzV1ZFhkaExYTjVjM1JsYllJa2JuVjNZUzEzWldKb2IyOXJMWE5sY25acApZMlV1Ym5WM1lTMXplWE4wWlcwdWMzWmpnamR1ZFhkaExXTnZiblJ5YjJ4c1pYSXRiV0Z1WVdkbGNpMXRaWFJ5CmFXTnpMWE5sY25acFkyVXViblYzWVMxemVYTjBaVzB1YzNaamhpbHVkWGRoTFhkbFltaHZiMnN0YzJWeWRtbGoKWlM1dWRYZGhMWE41YzNSbGJTNXpkbU02TVRRME16QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUExVjI4V3h1ZQpxS1ZDRDdVODQ5RjNMWjQ0R0V5QUJoMERWVmRUem5jeS93enU2eTh1b01zeG4wS3lOOGN0YmVvbStaMlpSQ2d3CnJ0Q1lGeWN1Tms4VjRLSGFkNnl3YTZZd0trMXAvTSs0QmxNWHc1WENvVUdxdStHU0JUM2g1QlZIWVNwL21vbzkKSG9YLzlQM2tvSEtETEZVN0VnYmtOc1lmNGZxSFNSVEl0UTcrdVhUc1VuMk1JaEFtWmc0cC9XYXE0ZWU3NE0yRgpWV1I5MUpGQjVvNHJaM1ZPNjJrdXNIaEpseVlSc3Jka0RGTjdJdktLSElocHJzay9kaDd6ZkM1Z2RtcU9NSkg4CkFtMjBWazBDMmdQanc4ZW5ocUdJTFNNN0JvbDM0QytnNjVhVXNMQlUwTVUvZ09SSy9UMnVrSkdBRmxSKzlOVnoKWnJuc0lyQjIwaUZsNXc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: nuwa-webhook-service
        namespace: nuwa-system
        path: /mutating-pods
        port: 1443
