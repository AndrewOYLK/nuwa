apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: webhook
webhooks:
  - name: injector.nuwa.nip.io
    admissionReviewVersions: ["v1", "v1beta1"]
    sideEffects: NoneOnDryRun
    rules:
      - operations: [ "CREATE" ]
        apiGroups: [""]
        apiVersions: ["v1"]
        resources: ["pods"]
        scope: "Namespaced"
    failurePolicy: Ignore  #  Fail/Ignore
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUV0VENDQTUyZ0F3SUJBZ0lVVitXbFIzeHgvSUtGeEVHTmlsbUphMUpYMlFRd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2NqRUxNQWtHQTFVRUJoTUNRMDR4RWpBUUJnTlZCQWdUQ1VkMVlXNW5XbWh2ZFRFU01CQUdBMVVFQnhNSgpSM1ZoYm1kYWFHOTFNUXd3Q2dZRFZRUUtFd05yT0hNeER6QU5CZ05WQkFzVEJsTjVjM1JsYlRFY01Cb0dBMVVFCkF4TVRhM1ZpWlhKdVpYUmxjeTFUYjNWc2JXRjBaVEFlRncweU1EQTBNVEl4TkRJM01EQmFGdzB5TVRBME1USXgKTkRJM01EQmFNR014Q3pBSkJnTlZCQVlUQWtOT01SSXdFQVlEVlFRSUV3bEhkV0Z1WjFwb2IzVXhFakFRQmdOVgpCQWNUQ1VkMVlXNW5XbWh2ZFRFTU1Bb0dBMVVFQ2hNRGF6aHpNUTh3RFFZRFZRUUxFd1pUZVhOMFpXMHhEVEFMCkJnTlZCQU1UQkc1MWQyRXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDdzc0ME4KeXp3YWdiNHByM3ZmamEyd0pkNzRTSEpLWnptb2dDRjlSM2VobUhoZGxtY3NFMUc1emc1YnRidUIvbDY1SmtOcAowV050TS9mZEhYODgzby9jWFNGdHZMajFPek1wbkFLaEZRaXQ3NytuVkhDa1QrUDZyY2J3Y2ROMGEzUFhEY0tCCkpldytCbjM4bnF1dXIwOGlOT2hrY1VtK2xmMGk5U3BiQWxKL1BYM3lSMlhoTGpSbUVrU3lzSE5lZFFPaFdMUVUKZHVRK1dXSnh3dldTeE5sUU43WVJPMGoxUkdob1k3SFJ6cWpCZlFKNDlqRW84VC9XLzZickhBNEdQYlhMZTVTMwpXL29uUW5LMTAxS0NpM1pBSHZwWTNoWWFLajk4RDdJdTExdWdiMkhpckszSklwSHNreloybDVVYzJTREN4TXJHCkdOOXhHUXBDeWhaZkNlWGhBZ01CQUFHamdnRlFNSUlCVERBT0JnTlZIUThCQWY4RUJBTUNCYUF3SFFZRFZSMGwKQkJZd0ZBWUlLd1lCQlFVSEF3RUdDQ3NHQVFVRkJ3TUNNQXdHQTFVZEV3RUIvd1FDTUFBd0hRWURWUjBPQkJZRQpGQWZYMU4vRUVmdTZrTS9SQ1ViTWJTWFR1Nk5qTUI4R0ExVWRJd1FZTUJhQUZQRFhNcWlHWStIbk04d3VmV3RqCmFkckxHaVY5TUlITUJnTlZIUkVFZ2NRd2djR0NGRzUxZDJFdGQyVmlhRzl2YXkxelpYSjJhV05sZ2lCdWRYZGgKTFhkbFltaHZiMnN0YzJWeWRtbGpaUzV1ZFhkaExYTjVjM1JsYllJa2JuVjNZUzEzWldKb2IyOXJMWE5sY25acApZMlV1Ym5WM1lTMXplWE4wWlcwdWMzWmpnamR1ZFhkaExXTnZiblJ5YjJ4c1pYSXRiV0Z1WVdkbGNpMXRaWFJ5CmFXTnpMWE5sY25acFkyVXViblYzWVMxemVYTjBaVzB1YzNaamhpaHVkWGRoTFhkbFltaHZiMnN0YzJWeWRtbGoKWlM1dWRYZGhMWE41YzNSbGJTNXpkbU02TkRRek1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQWxHd0JMMXhtNgp4Qk9VWnhKUUFuRWFPNUd4eDVuR1c5SDZjNjg1NDVPT1Z1aVMxbDlUakMvREhML1BMczhYNWpOdGpHNmsxWnhICm9OM3NHK0JtS3V6TndEYVIwVU41VHdZNTQ0enlTNjdpL1pVazgzMmZiZzlYSlNJRUpUSWEzOXNKSzAxTmliS28KQ2x0RTJySGlqM05zK21jWGdBb2NXUlJpMzFCTHIwM1R6bENTSDJjcHFqczY1V05POWRBek12Tks4R2hFYk5vVwpLSWQrbjdBVGZlQlpXUUZGM1NScU91Q3A5TlNSakI4VDY0WUxER1lHT1dqWjZQZ3pub210TTZleVpVaFdiQ2JVCit2WTFIOU5jcko4M1ZKU3hzR0VxRUd0VUwyaHJxQ25HUGZObVl5aWdva2hPaG5pdWUrNmMvam8vd0JIaGVwTG8Kc0NicEMxTnBobnoxCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      service:
        name: nuwa-webhook-service
        namespace: nuwa-system
        path: /mutating-pods
