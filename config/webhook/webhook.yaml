apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: nuwa-webhook
webhooks:
  - name: injector.nuwa.nip.io
    admissionReviewVersions: ["v1", "v1beta1"]
    sideEffects: NoneOnDryRun
    rules:
      - operations: [ "CREATE" ]
        apiGroups: [""]
        apiVersions: ["v1"]
        resources: ["pods"]
        scope: "Namespaced"
    failurePolicy: Ignore  #  Fail/Ignore
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVoRENDQTJ5Z0F3SUJBZ0lVWDhpeG9WSzFmZTI2Nk94REkxdWNwaENPeUhZd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2NqRUxNQWtHQTFVRUJoTUNRMDR4RWpBUUJnTlZCQWdUQ1VkMVlXNW5XbWh2ZFRFU01CQUdBMVVFQnhNSgpSM1ZoYm1kYWFHOTFNUXd3Q2dZRFZRUUtFd05yT0hNeER6QU5CZ05WQkFzVEJsTjVjM1JsYlRFY01Cb0dBMVVFCkF4TVRhM1ZpWlhKdVpYUmxjeTFUYjNWc2JXRjBaVEFlRncweU1EQTBNVEl3TXpNM01EQmFGdzB5TVRBME1USXcKTXpNM01EQmFNR014Q3pBSkJnTlZCQVlUQWtOT01SSXdFQVlEVlFRSUV3bEhkV0Z1WjFwb2IzVXhFakFRQmdOVgpCQWNUQ1VkMVlXNW5XbWh2ZFRFTU1Bb0dBMVVFQ2hNRGF6aHpNUTh3RFFZRFZRUUxFd1pUZVhOMFpXMHhEVEFMCkJnTlZCQU1UQkc1MWQyRXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDdGVrWWwKVUl4aFBMK3JRQ2lneWpOTDZYZ0dBVTlVU3BHSFIvTzQ4NXBmTDM0cjZwbHI0NzYwcW1tekphMmRDbFhLbHhSVQo4bUswa3RYME9SdjdId2ZyUEpKVlZzU2JGbE90aDE0VmNpWFJNdXZ4T1pGMVRMUnpycnhvYURyUVVXOFp5QVJkCkJUMUZiZjFRYk9DVWIraUkrb0h1UHdsZVV2WGs4dU5TaXNGUG5UQUJNRFdveDZwR2xrZmcycTFUdU5Tb3pxcjIKUkc0dm51aWszTTlrM1ErbUJZZmxzNDN4NmVBMytqUGkzdEJKa0JxTksxcDlweDJmOUJKRitnc0JvdkpDLy83Mgp1YzhRMVRMNXJjTmNIcWw2RFFoNW5aMms0cXZJc2Mxb0xWKzJmOEVhWHJmS2cwNGIxRUFVOXhQdlh4MHgzajBsCjdKL25xYXVGby9BbXgxUlRBZ01CQUFHamdnRWZNSUlCR3pBT0JnTlZIUThCQWY4RUJBTUNCYUF3SFFZRFZSMGwKQkJZd0ZBWUlLd1lCQlFVSEF3RUdDQ3NHQVFVRkJ3TUNNQXdHQTFVZEV3RUIvd1FDTUFBd0hRWURWUjBPQkJZRQpGTmNkWDhza0owQnJuR0J0RXpSNUdqbmEyOXRNTUI4R0ExVWRJd1FZTUJhQUZNOFNCQzEwNWVyMGpxc0JMOU1rCitGckRSVGFmTUlHYkJnTlZIUkVFZ1pNd2daQ0NMMjUxZDJFdFkyOXVkSEp2Ykd4bGNpMXRZVzVoWjJWeUxYTmwKY25acFkyVXViblYzWVMxemVYTjBaVzB1YzNaamdqZHVkWGRoTFdOdmJuUnliMnhzWlhJdGJXRnVZV2RsY2kxdApaWFJ5YVdOekxYTmxjblpwWTJVdWJuVjNZUzF6ZVhOMFpXMHVjM1pqZ2lSdWRYZGhMWGRsWW1odmIyc3RjMlZ5CmRtbGpaUzV1ZFhkaExYTjVjM1JsYlM1emRtTXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBQytsTDNWdFNQRlAKU29NSVRwaEliMCtFNG5uclpIRU5rR3haSWlNL0tXbVhWUDJaK2VuT0pxWHJEZUp6V3BWdWdmN1RTT0t4cnZLTAp5RTR4UDZNcVNGcDhyOUVDT1ozcjBRTXh1eS9mQTNpZU1mT3NmWENTL0hnaENwcUV4Vk8wNFBMMHlBNjhTVURSCkxuNitBa1BmRitCeVEyaWxXa0ZyVTkxVnVwY2RoZVVYdEx2UStxNDV5dzUxOG5RZW5WNWJlSmtsUEpaVk9nMUUKTGZwdURCWFFGWmpkZHJUb09HTlVVMU5HdFVSVDNRMVZtTTJTYzVrQWI2Q0ZhdWVkRStEK0tqUFZQdlVjWXFHcApQK0hDQkxyMGVuQm9yWjNNVEVxUTI3S2FCWnIzVkhEUURzS09oSHFpQVpURjg1Sk1VOXU3eEw5Q1c5TE5IWlEvClNyVzJBSy9pcHlBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
      name: nuwa-webhook-service.nuwa-system.svc
      namespace: nuwa-system
      path: /mutating-pods
